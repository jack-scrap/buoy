class Char {
	glyph = [
		[ // 0
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // 1
			// Horizontal
			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // 2
			// Left
			0.0, 0.0,
			0.0, 0.5,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.5,
			1.0, 1.0
		], [ /// 3
			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // 4
			// Left
			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // 5
			// Left
			1.0, 0.0,
			1.0, 0.5,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			0.0, 0.5,
			0.0, 1.0
		], [ // 6
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5
		], [ // 7
			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // 8
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // 9
			// Left
			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // A
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // B
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // C
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 1.0,
			1.0, 1.0,
		], [ // D
			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 1.0,
			1.0, 1.0,
		], [ // E
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,
		], [ // F
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0
		], [ // G
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5
		], [ // H
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5
		], [ // I
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0
		], [ // J
			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0
		], [ // K
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // L
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0
		], [ // M
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Middle
			0.5, 0.0,
			0.5, 0.5,

			0.5, 0.5,
			0.5, 1.0,

			// Horizontal
			0.0, 1.0,
			0.5, 1.0,

			0.5, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // N
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal (top)
			0.0, 1.0,
			0.5, 1.0,

			// Center
			0.5, 1.0,
			0.5, 0.0,

			// Horizontal (bottom)
			0.5, 0.0,
			1.0, 0.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,
		], [ // O
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Bottom
			0.0, 0.0,
			0.5, 0.0,

			0.5, 0.0,
			1.0, 0.0,

			// Top
			0.0, 1.0,
			0.5, 1.0,

			0.5, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,
		], [ // P
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.5,
			1.0, 1.0
		], [ // Q
			// Left
			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,
		], [ // R
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,
			
			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,
		], [ // S
			// Left
			0.0, 0.0,
			0.0, 0.5,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.5,
			1.0, 1.0
		], [ // T
			// Left
			0.5, 0.0,
			0.5, 0.5,

			0.5, 0.5,
			0.5, 1.0,

			// Top
			0.0, 1.0,
			0.5, 1.0,

			0.5, 1.0,
			1.0, 1.0
		], [ // U
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			0.5, 0.0,

			0.5, 0.0,
			1.0, 0.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,
		], [ // V
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.0,
			0.5, 0.0,

			// Right
			0.5, 0.0,
			0.5, 0.5,

			0.5, 0.5,
			0.5, 1.0,
		], [ // W
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Middle
			0.5, 0.0,
			0.5, 0.5,

			0.5, 0.5,
			0.5, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,

			// Bottom
			0.0, 0.0,
			0.5, 0.0,

			0.5, 0.0,
			1.0, 0.0
		], [ // X
			// Left
			0.0, 0.0,
			0.0, 0.5,

			0.0, 0.5,
			0.0, 1.0,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5
		], [ // Y
			// Left
			0.0, 0.5,
			0.0, 1.0,

			// Horizontal
			0.0, 0.5,
			1.0, 0.5,

			// Right
			1.0, 0.0,
			1.0, 0.5,

			1.0, 0.5,
			1.0, 1.0
		], [ // Z
			// Left
			0.0, 0.0,
			0.0, 0.5,

			// Horizontal
			0.0, 0.0,
			1.0, 0.0,

			0.0, 0.5,
			1.0, 0.5,

			0.0, 1.0,
			1.0, 1.0,

			// Right
			1.0, 0.5,
			1.0, 1.0
		]
	];

	asciiToAlphaNo(c) {
		let i = c.charCodeAt(0);

		if (i >= "0".charCodeAt(0) && i <= "9".charCodeAt(0)) {
			return i - 48;
		}

		if (i >= "a".charCodeAt(0) && i <= "z".charCodeAt(0)) {
			return i - 97 + 10;
		}
	}

	constructor(c, x = 0.0, y = 0.0) {
		this.vao = gl.createVertexArray();
		gl.bindVertexArray(this.vao);

		// Data
		this.vtc = this.glyph[this.asciiToAlphaNo(c)];

		this.vbo = gl.createBuffer();
		gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);
		gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(this.vtc), gl.STATIC_DRAW);

		// Program
		this.prog = new Prog("vec", "green");

		// Matrix
		this.model = new Float32Array(16);
		mat4.identity(this.model);

		this.id = new Float32Array(16);
		this.trans = new Float32Array(16);
		this.rot = new Float32Array(16);

		mat4.identity(this.id);

		// Attribute
		this.attrPos = gl.getAttribLocation(this.prog.id, "pos");
		gl.vertexAttribPointer(this.attrPos, 2, gl.FLOAT, gl.FALSE, 2 * Float32Array.BYTES_PER_ELEMENT, 0);
		gl.enableVertexAttribArray(this.attrPos);

		// Uniform
		this.uniModel = gl.getUniformLocation(this.prog.id, "model");

		this.x = x;
		this.y = y;
		this.theta = 0;
	}

	draw() {
		gl.bindVertexArray(this.vao);
		gl.useProgram(this.prog.id);

		mat4.translate(this.trans, this.id, [this.x, this.y, 0.0]);
		mat4.rotate(this.rot, this.id, this.theta, [0, 0, 1]);
		mat4.mul(this.model, this.rot, this.id);
		mat4.mul(this.model, this.trans, this.model);
		gl.uniformMatrix4fv(this.uniModel, gl.FALSE, this.model);

		gl.drawArrays(gl.LINES, 0, this.vtc.length / 2);

		gl.bindVertexArray(null);
		this.prog.unUse();
	}
};

class Str {
	constructor(buff, x = 0.0, y = 0.0) {
		this.buff = [];

		this.wd = (buff.length + (buff.length - 1)) / 10;

		for (let i = 0; i < buff.length; i++) {
			this.buff.push(new Char(buff[i], x - (this.wd / 4) + (i * (1 / 10)), y));
		}
	}

	draw() {
		for (let c of this.buff) {
			c.draw();
		}
	}
};
